import{l as O,o as N}from"./auth-CbXENMBb.js";import{M as $}from"./mockAPI-BmLKuVrD.js";class P{constructor(e){this.dataSource=e,this.dates=null}async init(){const e=await this.dataSource.getDates(),t=document.querySelector("#state-dates-form");e.length>0?(this.dates=e[0],t.classList.add("hide"),this.renderDates()):(this.dates=null,t.classList.remove("hide"))}async renderDates(){j(this.dates)}async saveDates(){const e=document.querySelector("#state-dates-form"),t=e.querySelector("#short-course-date").value,C=e.querySelector("#long-course-date").value,n={shortCourse:t,longCourse:C};let d;this.dates?d=await this.dataSource.updateDates(this.dates.id,n):d=await this.dataSource.addDates(n),this.dates=d}}function j(s){const e=document.querySelector("#existing-state-dates");e.innerHTML="";const t=document.createElement("p");t.classList.add("date-p");const C=document.createElement("p");C.classList.add("date-p"),t.textContent=`Short Course: ${s.shortCourse}`,C.textContent=`Long Course: ${s.longCourse}`,e.appendChild(t),e.appendChild(C)}const u={"Long Course":{Girls:{"10&U":{"50 FR LCM":"00:39.29","100 FR LCM":"01:26.39","200 FR LCM":"03:14.19","400 FR LCM":"07:22.49","800 FR LCM":"n/a","1500 FR LCM":"n/a","50 BK LCM":"00:45.59","100 BK LCM":"01:41.59","200 BK LCM":"n/a","50 BR LCM":"00:52.79","100 BR LCM":"01:56.89","200 BR LCM":"n/a","50 FL LCM":"00:46.19","100 FL LCM":"01:49.79","200 FL LCM":"n/a","100 IM LCM":"n/a","200 IM LCM":"03:35.69","400 IM LCM":"n/a"},"11-12":{"50 FR LCM":"00:33.49","100 FR LCM":"01:13.39","200 FR LCM":"02:39.79","400 FR LCM":"05:40.59","800 FR LCM":"13:09.29","1500 FR LCM":"25:10.99","50 BK LCM":"00:39.29","100 BK LCM":"01:26.19","200 BK LCM":"03:09.49","50 BR LCM":"00:45.19","100 BR LCM":"01:36.39","200 BR LCM":"03:36.09","50 FL LCM":"00:37.59","100 FL LCM":"01:27.59","200 FL LCM":"03:16.59","100 IM LCM":"01:43.79","200 IM LCM":"02:58.89","400 IM LCM":"07:08.99"},"13-14":{"50 FR LCM":"00:31.89","100 FR LCM":"01:06.89","200 FR LCM":"02:26.49","400 FR LCM":"05:13.89","800 FR LCM":"10:50.39","1500 FR LCM":"20:32.19","50 BK LCM":"01:19.69","100 BK LCM":"02:46.99","200 BK LCM":"02:46.99","50 BR LCM":"01:30.49","100 BR LCM":"03:14.49","200 BR LCM":"03:14.49","50 FL LCM":"01:17.99","100 FL LCM":"03:04.89","200 FL LCM":"03:04.89","100 IM LCM":"01:36.49","200 IM LCM":"02:47.69","400 IM LCM":"06:01.29"}},Boys:{"10&U":{"50 FR LCM":"00:39.49","100 FR LCM":"01:28.19","200 FR LCM":"03:11.99","400 FR LCM":"07:22.49","800 FR LCM":"n/a","1500 FR LCM":"n/a","50 BK LCM":"00:46.79","100 BK LCM":"01:44.59","200 BK LCM":"n/a","50 BR LCM":"00:53.79","100 BR LCM":"01:58.19","200 BR LCM":"n/a","50 FL LCM":"00:46.99","100 FL LCM":"01:49.69","200 FL LCM":"n/a","100 IM LCM":"n/a","200 IM LCM":"03:39.29","400 IM LCM":"n/a"},"11-12":{"50 FR LCM":"00:34.19","100 FR LCM":"01:14.69","200 FR LCM":"02:43.69","400 FR LCM":"05:40.59","800 FR LCM":"13:06.59","1500 FR LCM":"24:44.99","50 BK LCM":"00:40.09","100 BK LCM":"01:26.49","200 BK LCM":"03:12.89","50 BR LCM":"00:45.39","100 BR LCM":"01:42.99","200 BR LCM":"03:41.89","50 FL LCM":"00:38.09","100 FL LCM":"01:31.79","200 FL LCM":"03:25.19","100 IM LCM":"01:36.19","200 IM LCM":"03:05.19","400 IM LCM":"06:52.29"},"13-14":{"50 FR LCM":"00:29.69","100 FR LCM":"01:04.29","200 FR LCM":"02:23.99","400 FR LCM":"05:07.49","800 FR LCM":"10:38.19","1500 FR LCM":"20:20.69","50 BK LCM":"01:14.79","100 BK LCM":"02:44.09","200 BK LCM":"02:44.09","50 BR LCM":"01:29.99","100 BR LCM":"03:07.29","200 BR LCM":"03:07.29","50 FL LCM":"01:14.29","100 FL LCM":"02:56.69","200 FL LCM":"02:56.69","100 IM LCM":"01:28.99","200 IM LCM":"02:43.19","400 IM LCM":"05:48.19"}}},"Short Course":{Girls:{"10&U":{"50 FR SCY":"00:33.89","100 FR SCY":"01:16.89","200 FR SCY":"02:50.59","500 FR SCY":"08:11.99","1000 FR SCY":"n/a","1650 FR SCY":"n/a","50 BK SCY":"00:39.99","100 BK SCY":"01:27.69","200 BK SCY":"n/a","50 BR SCY":"00:46.19","100 BR SCY":"01:41.79","200 BR SCY":"n/a","50 FL SCY":"00:39.79","100 FL SCY":"01:38.19","200 FL SCY":"n/a","100 IM SCY":"01:27.79","200 IM SCY":"03:12.09","400 IM SCY":"n/a"},"11-12":{"50 FR SCY":"00:29.29","100 FR SCY":"01:04.49","200 FR SCY":"02:22.39","500 FR SCY":"06:29.99","1000 FR SCY":"13:59.99","1650 FR SCY":"22:59.99","50 BK SCY":"00:34.29","100 BK SCY":"01:15.09","200 BK SCY":"02:49.39","50 BR SCY":"00:39.59","100 BR SCY":"01:25.69","200 BR SCY":"03:13.69","50 FL SCY":"00:32.99","100 FL SCY":"01:16.49","200 FL SCY":"03:00.29","100 IM SCY":"01:16.19","200 IM SCY":"02:41.39","400 IM SCY":"05:50.79"},"13-14":{"50 FR SCY":"00:26.89","100 FR SCY":"00:58.19","200 FR SCY":"02:05.59","500 FR SCY":"05:38.59","1000 FR SCY":"11:47.09","1650 FR SCY":"19:59.99","50 BK SCY":"01:07.19","100 BK SCY":"02:25.09","200 BK SCY":"02:25.09","50 BR SCY":"01:17.19","100 BR SCY":"02:51.49","200 BR SCY":"02:51.49","50 FL SCY":"01:07.69","100 FL SCY":"02:36.89","200 FL SCY":"02:36.89","100 IM SCY":"01:16.19","200 IM SCY":"02:26.59","400 IM SCY":"05:10.49"}},Boys:{"10&U":{"50 FR SCY":"00:34.49","100 FR SCY":"01:16.49","200 FR SCY":"02:47.99","500 FR SCY":"08:11.99","1000 FR SCY":"n/a","1650 FR SCY":"n/a","50 BK SCY":"00:40.99","100 BK SCY":"01:30.99","200 BK SCY":"n/a","50 BR SCY":"00:46.19","100 BR SCY":"01:42.49","200 BR SCY":"n/a","50 FL SCY":"00:39.79","100 FL SCY":"01:41.59","200 FL SCY":"n/a","100 IM SCY":"01:27.69","200 IM SCY":"03:21.39","400 IM SCY":"n/a"},"11-12":{"50 FR SCY":"00:29.99","100 FR SCY":"01:04.79","200 FR SCY":"02:22.69","500 FR SCY":"06:33.39","1000 FR SCY":"13:59.99","1650 FR SCY":"23:29.99","50 BK SCY":"00:34.79","100 BK SCY":"01:15.49","200 BK SCY":"02:47.89","50 BR SCY":"00:39.49","100 BR SCY":"01:26.19","200 BR SCY":"03:16.79","50 FL SCY":"00:34.09","100 FL SCY":"01:19.89","200 FL SCY":"02:59.99","100 IM SCY":"01:15.79","200 IM SCY":"02:41.69","400 IM SCY":"05:49.99"},"13-14":{"50 FR SCY":"00:26.09","100 FR SCY":"00:56.49","200 FR SCY":"02:04.09","500 FR SCY":"05:31.89","1000 FR SCY":"11:43.39","1650 FR SCY":"19:27.29","50 BK SCY":"01:05.79","100 BK SCY":"02:23.39","200 BK SCY":"02:23.39","50 BR SCY":"01:16.09","100 BR SCY":"02:43.99","200 BR SCY":"02:43.99","50 FL SCY":"01:03.99","100 FL SCY":"02:31.79","200 FL SCY":"02:31.79","100 IM SCY":"01:14.69","200 IM SCY":"02:20.19","400 IM SCY":"04:59.99"}}}};class H{constructor(e,t){this.swimmersData=e,this.datesData=t,this.swimmers=null,this.dates=null}async init(){const e=await this.swimmersData.getSwimmers(),t=await this.datesData.getDates();this.swimmers=e,this.dates=t,this.renderSwimmerTable()}async renderSwimmerTable(){this.swimmers.forEach(e=>{Q(e,this.dates)})}}function Q(s,e){const t=document.createElement("div");t.classList.add("swimmer-div");const C=document.createElement("h2"),n=document.createElement("p"),d=document.createElement("p"),m=document.createElement("p"),F=document.createElement("p"),B=document.createElement("p"),l=document.createElement("table");l.classList.add("sc-state-table");const R=document.createElement("table");R.classList.add("lc-state-table");const c=Math.floor((new Date(e.shortCourse)-new Date(s.birthdate))/(1e3*60*60*24*365)),i=Math.floor((new Date(e.longCourse)-new Date(s.birthdate))/(1e3*60*60*24*365));let o;c<=10?o="10&U":c===11||c===12?o="11&12":c===13||c===14?o="13&14":o="15&O";let r;i<=10?r="10&U":i===11||i===12?r="11-12":i===13||i===14?r="13-14":r="15&O",C.textContent=`Name: ${s.fname} ${s.lname}`,n.textContent=`Birthdate: ${s.birthdate}`,d.textContent=`Age at Time of Short Course State Meet: ${c}`,m.textContent=`Competition Category: ${o}`,F.textContent=`Age at Time of Long Course State Meet: ${i}`,B.textContent=`Competition Category: ${r}`;const Y=document.createElement("thead"),S=document.createElement("tr"),f=document.createElement("th");f.textContent="Event";const w=document.createElement("th");w.textContent="Swimmer's Time";const I=document.createElement("th");I.textContent="State Qualifying Time";const K=document.createElement("th");K.textContent="Swimmer's Time to Cut",S.appendChild(f),S.appendChild(w),S.appendChild(I),S.appendChild(K),Y.appendChild(S);const A=Y.cloneNode(!0),G=Y.cloneNode(!0);l.appendChild(A),R.appendChild(G);let L;s.gender==="F"?L="Girls":L="Boys";const U=Object.keys(u["Short Course"][L][o]);Object.keys(u["Long Course"][L][r]);const D=document.createElement("tbody");U.forEach(M=>{const a=document.createElement("tr");a.classList.add("table-row");const T=document.createElement("td");T.textContent=M;const E=document.createElement("td");E.textContent=s[M]||"n/a";const y=document.createElement("td");y.textContent=u["Short Course"][L][o][M];const g=document.createElement("td"),b=q(s[M]),x=q(u["Short Course"][L][o][M]);let h;if(!b&&!x)a.classList.add("no-time"),h="n/a";else{const v=b-x;v>0?a.classList.add("not-qualified"):a.classList.add("qualified"),h=z(v)}g.textContent=h,a.appendChild(T),a.appendChild(E),a.appendChild(y),a.appendChild(g),D.appendChild(a)}),l.appendChild(D),t.appendChild(C),t.appendChild(n),t.appendChild(d),t.appendChild(m),t.appendChild(l),t.appendChild(F),t.appendChild(B),t.appendChild(R),document.querySelector("#swimmer-cut-times").appendChild(t)}function q(s){let e;if(s==="n/a")e=null;else{const t=s.split(":");e=parseInt(t[0])*60+parseFloat(t[1])}return e}function z(s){const e=String(Math.floor(s/60)),t=(s%60).toFixed(2),C=e.padStart(2,"0"),n=t.split("."),m=`${n[0].padStart(2,"0")}.${n[1]}`;return`${C}:${m}`}O();const J="https://692f280e91e00bafccd6c5d3.mockapi.io/swim-cut-check/state-dates",V="https://692f280e91e00bafccd6c5d3.mockapi.io/swim-cut-check/swimmers",k=new $(J),W=new $(V),p=new P(k);N(s=>{s&&p.init()});document.querySelector("#state-dates-submit").addEventListener("click",async s=>{s.preventDefault(),await p.saveDates(),p.renderDates(),document.querySelector("#state-dates-form").classList.add("hide"),document.querySelector("#state-dates-form").reset()});document.querySelector("#update-dates-button").addEventListener("click",async s=>{document.querySelector("#state-dates-form").classList.remove("hide")});const X=new H(W,k);X.init();
