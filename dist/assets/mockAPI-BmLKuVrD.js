import{g as n}from"./auth-CbXENMBb.js";class i{constructor(e){this.baseURL=e}getCurrentUser(e=!1){const s=n().currentUser;if(!s&&e)throw new Error("Not Logged In");return s||null}async getSwimmers(){const e=this.getCurrentUser();return e?await(await fetch(`${this.baseURL}?userId=${e.email}`)).json():[]}async addSwimmer(e){const s=this.getCurrentUser(!0);return e.userId=s.email,await(await fetch(this.baseURL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json()}async updateSwimmer(e,s){const t=this.getCurrentUser(!0);return s.userId=t.email,await(await fetch(`${this.baseURL}/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).json()}async getDates(){const e=this.getCurrentUser();return e?await(await fetch(`${this.baseURL}?userId=${e.email}`)).json():[]}async addDates(e){const s=this.getCurrentUser(!0);return e.userId=s.email,await(await fetch(this.baseURL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json()}async updateDates(e,s){const t=this.getCurrentUser(!0);return s.userId=t.email,await(await fetch(`${this.baseURL}/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).json()}}export{i as M};
